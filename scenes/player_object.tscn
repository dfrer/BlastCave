[gd_scene load_steps=14 format=3]

[ext_resource type="Script" path="res://scripts/player/character_object.gd" id="1_script"]
[ext_resource type="Script" path="res://scripts/core/health_component.gd" id="2_health"]

[sub_resource type="StandardMaterial3D" id="mat_body"]
albedo_color = Color(0.3, 0.35, 0.4, 1)
metallic = 0.6
roughness = 0.4

[sub_resource type="StandardMaterial3D" id="mat_head"]
albedo_color = Color(0.45, 0.5, 0.55, 1)
metallic = 0.5
roughness = 0.35

[sub_resource type="StandardMaterial3D" id="mat_eye"]
albedo_color = Color(0.1, 0.9, 0.6, 1)
emission_enabled = true
emission = Color(0.1, 0.9, 0.6, 1)
emission_energy_multiplier = 2.0

[sub_resource type="StandardMaterial3D" id="mat_eye_secondary"]
albedo_color = Color(0.9, 0.5, 0.1, 1)
emission_enabled = true
emission = Color(0.9, 0.5, 0.1, 1)
emission_energy_multiplier = 1.5

[sub_resource type="SphereMesh" id="mesh_body"]
radius = 0.5
height = 1.0
radial_segments = 32
rings = 16

[sub_resource type="SphereMesh" id="mesh_eye_main"]
radius = 0.12
height = 0.24

[sub_resource type="SphereMesh" id="mesh_eye_small"]
radius = 0.06
height = 0.12

[sub_resource type="SphereShape3D" id="collision_shape"]
radius = 0.5

[sub_resource type="BoxMesh" id="mesh_visor"]
size = Vector3(0.4, 0.1, 0.12)

[sub_resource type="PhysicsMaterial" id="physics_mat"]
friction = 0.3
bounce = 0.4

[node name="PlayerObject" type="RigidBody3D"]
mass = 1.0
physics_material_override = SubResource("physics_mat")
continuous_cd = true
contact_monitor = true
max_contacts_reported = 4
script = ExtResource("1_script")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("collision_shape")

[node name="BodyMesh" type="MeshInstance3D" parent="."]
mesh = SubResource("mesh_body")
material_override = SubResource("mat_body")

[node name="FacePivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.15, 0)

[node name="Visor" type="MeshInstance3D" parent="FacePivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0.42)
mesh = SubResource("mesh_visor")
material_override = SubResource("mat_head")

[node name="HeadPivot" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.15, 0)

[node name="EyeMain" type="MeshInstance3D" parent="HeadPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.1, 0.48)
mesh = SubResource("mesh_eye_main")
material_override = SubResource("mat_eye")

[node name="EyeLeft" type="MeshInstance3D" parent="HeadPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.12, 0.15, 0.44)
mesh = SubResource("mesh_eye_small")
material_override = SubResource("mat_eye_secondary")

[node name="EyeRight" type="MeshInstance3D" parent="HeadPivot"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.12, 0.15, 0.44)
mesh = SubResource("mesh_eye_small")
material_override = SubResource("mat_eye_secondary")

[node name="HealthComponent" type="Node" parent="."]
script = ExtResource("2_health")
