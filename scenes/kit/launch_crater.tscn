[gd_scene load_steps=7 format=3]

[ext_resource type="PackedScene" path="res://scenes/pickup_explosive.tscn" id="1_pickup"]

[sub_resource type="StandardMaterial3D" id="mat_crater"]
albedo_color = Color(0.25, 0.23, 0.21, 1)
roughness = 0.85
metallic = 0.05

[sub_resource type="StandardMaterial3D" id="mat_glow"]
albedo_color = Color(0.2, 0.5, 0.6, 1)
emission_enabled = true
emission = Color(0.3, 0.7, 0.8, 1)
emission_energy_multiplier = 1.5

[sub_resource type="SphereMesh" id="mesh_crater"]
radius = 3.0
height = 3.0
is_hemisphere = true

[sub_resource type="SphereShape3D" id="shape_crater"]
radius = 3.0

[sub_resource type="PhysicsMaterial" id="physics_crater"]
friction = 0.2
bounce = 0.35

[node name="LaunchCrater" type="StaticBody3D"]
physics_material_override = SubResource("physics_crater")

[node name="CraterMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -1, 0, 0, 0, 1, 0, 0, 0)
mesh = SubResource("mesh_crater")
material_override = SubResource("mat_crater")

[node name="CraterCollision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.5, 0)
shape = SubResource("shape_crater")

[node name="GlowRing" type="MeshInstance3D" parent="."]
transform = Transform3D(3, 0, 0, 0, 0.2, 0, 0, 0, 3, 0, 0.1, 0)
mesh = SubResource("mesh_crater")
material_override = SubResource("mat_glow")

[node name="CenterPickup" parent="." instance=ExtResource("1_pickup")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.3, 0)
explosive_type = "ImpulseCharge"
amount = 2
