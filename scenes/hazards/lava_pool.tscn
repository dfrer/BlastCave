[gd_scene load_steps=6 format=3]

[ext_resource type="Script" path="res://scripts/hazards/lava_pool.gd" id="1_script"]

[sub_resource type="StandardMaterial3D" id="mat_lava"]
albedo_color = Color(0.8, 0.3, 0.1, 1)
emission_enabled = true
emission = Color(1.0, 0.5, 0.1, 1)
emission_energy_multiplier = 3.0
roughness = 0.8

[sub_resource type="StandardMaterial3D" id="mat_crust"]
albedo_color = Color(0.3, 0.2, 0.15, 1)
roughness = 0.9
metallic = 0.0

[sub_resource type="CylinderMesh" id="mesh_pool"]
top_radius = 2.5
bottom_radius = 2.8
height = 0.3
radial_segments = 24

[sub_resource type="CylinderShape3D" id="shape_damage"]
radius = 2.3
height = 0.5

[node name="LavaPool" type="Node3D"]
script = ExtResource("1_script")

[node name="Crust" type="MeshInstance3D" parent="."]
mesh = SubResource("mesh_pool")
material_override = SubResource("mat_crust")

[node name="LavaSurface" type="MeshInstance3D" parent="."]
transform = Transform3D(0.9, 0, 0, 0, 0.5, 0, 0, 0, 0.9, 0, 0.12, 0)
mesh = SubResource("mesh_pool")
material_override = SubResource("mat_lava")

[node name="DamageArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)

[node name="Shape" type="CollisionShape3D" parent="DamageArea"]
shape = SubResource("shape_damage")

[node name="AmbientLight" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
light_color = Color(1, 0.5, 0.2, 1)
light_energy = 0.8
omni_range = 5.0
